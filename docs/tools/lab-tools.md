# 檢驗工具 (Lab Tools)

此類別工具提供檢驗項目代碼 (LOINC) 查詢、參考值取得與結果判讀功能。

## search_loinc_code
搜尋 LOINC 檢驗代碼。

### 參數
| 參數名 | 型別 | 必填 | Defaults | 說明 | 範例 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| `keyword` | string | 是 | - | 檢驗關鍵字 (中/英/縮寫) | `"血糖"`, `"Glucose"`, `"WBC"` |
| `category` | string | 否 | - | 分類篩選 | `"生化檢驗-肝功能"` |

---

## get_reference_range
查詢檢驗項目的標準參考值範圍。

### 參數
| 參數名 | 型別 | 必填 | Defaults | 說明 | 範例 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| `loinc_code` | string | 是 | - | LOINC 代碼 | `"1558-6"` |
| `age` | integer | 是 | - | 患者年齡 | `45` |
| `gender` | string | 否 | `"all"` | 性別 (`M`, `F`, `all`) | `"M"` |

### 回傳內容
回傳該年齡性別對應的正常值上限與下限，以及單位。

---

## interpret_lab_result
**【智慧判讀】** 單項檢驗結果判讀。

### 參數
| 參數名 | 型別 | 必填 | Defaults | 說明 | 範例 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| `loinc_code` | string | 是 | - | LOINC 代碼 | `"1558-6"` |
| `value` | number | 是 | - | 檢驗數值 | `126.5` |
| `age` | integer | 是 | - | 患者年齡 | `50` |
| `gender` | string | 否 | `"all"` | 性別 | `"M"` |

### 用途
系統會自動比對內建的參考值資料庫，回傳該數值為「正常」、「偏高」或「偏低」，並附上臨床意義提示。

---

## batch_interpret_lab_results
**【批次判讀】** 多項檢驗結果一次判讀。

### 參數
| 參數名 | 型別 | 必填 | 說明 |
| :--- | :--- | :--- | :--- |
| `results_json` | string | 是 | 包含多筆檢驗結果的 JSON 字串。<br>格式：`[{"loinc_code": "...", "value": ...}, ...]` |

### 用途
適用於判讀整份健檢報告。工具會統計異常項目的數量並摘要重點。
